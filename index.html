<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Investor Dashboard | Omkar Enterprises</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f4f6f8; }

    /* Consent Popup */
    #consentPopup {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8); display: none;
      align-items: center; justify-content: center; z-index: 9999;
    }
    #consentBox {
      background: #fff; padding: 20px; border-radius: 10px;
      width: 90%; max-width: 400px; text-align: center;
    }
    #consentBox h2 { margin-top: 0; color:#0A2540; }
    #consentBox input, #consentBox button {
      width: 90%; margin: 8px 0; padding: 10px; font-size: 14px;
    }
    #consentBox button {
      background: #0A2540; color: #fff; border: none; border-radius: 5px; cursor: pointer;
    }
    #consentBox button:hover { background: #C9A227; color:#000; }

    /* Dashboard Layout */
    #dashboard { display: none; }
    header {
      background: #0A2540; color: #fff; padding: 15px 20px;
      display: flex; justify-content: space-between; align-items: center;
    }
    header h1 { margin: 0; font-size: 18px; }
    nav { display: flex; gap: 15px; }
    nav button {
      background: transparent; border: none; color: #fff;
      font-size: 14px; cursor: pointer; padding: 8px 12px;
    }
    nav button.active { background: #C9A227; color: #000; border-radius: 5px; }

    /* Logout Button */
    #logoutBtn {
      background: #C9A227; color: #000; border: none; border-radius: 5px;
      padding: 8px 12px; cursor: pointer; font-size: 14px;
    }
    #logoutBtn:hover { background: #fff; color:#0A2540; }

    .content { padding: 20px; }
    .tab { display: none; }
    .tab.active { display: block; }

    /* Card Style */
    .card {
      background: #fff; border-radius: 8px; padding: 20px; margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .card h2 { margin-top: 0; color:#0A2540; }
    .card ul { padding-left: 18px; }
    .card a { color: #0A2540; text-decoration: none; }
    .card a:hover { text-decoration: underline; }
  </style>
</head>
<body>

  <!-- Consent Popup -->
  <div id="consentPopup">
    <div id="consentBox">
      <h2>Consent Required</h2>
      <p>
        Omkar Enterprises is a private consultancy firm.<br>
        We are not a bank or NBFC and do not raise public deposits under the 
        <b>Companies Act, 2013</b> or the <b>BUDS Act, 2019</b>.<br>
        This discussion is strictly private and contractual.
      </p>

      <form id="consentForm" 
            method="POST" 
            action="https://script.google.com/macros/s/AKfycbzH9_aevj4qyuJd0laAwvT1jn6j6T-pdy_wPllEItuPZoIjPm8gm87L92MsHQ_cqgIQ/exec" 
            target="hidden_iframe">

        <label style="font-size:13px;">
          <input type="checkbox" required>
          I have read, understood, and voluntarily consent to proceed.
        </label><br><br>

        <input type="text" name="name" placeholder="Full Name" required><br>
        <input type="email" name="email" placeholder="Email Address" required><br>
        <input type="tel" name="phone" placeholder="Contact Number" required><br>
        <input type="hidden" name="consent" value="true">

        <button type="submit">Proceed</button>
      </form>

      <iframe name="hidden_iframe" style="display:none;"></iframe>
    </div>
  </div>

  <!-- Dashboard -->
  <div id="dashboard">
    <header>
      <h1>Omkar Enterprises | Investor Dashboard</h1>
      <div>
        <nav>
          <button data-tab="home" class="active">Home</button>
          <button data-tab="terms">Investor Terms</button>
          <button data-tab="agreements">Agreements</button>
          <button data-tab="reports">Reports</button>
          <button data-tab="documents">Documents</button>
        </nav>
      </div>
      <button id="logoutBtn">Logout</button>
    </header>

    <div class="content">
      <!-- Home -->
      <div id="home" class="tab active">
        <div class="card">
          <h2>Welcome</h2>
          <p>Welcome to Omkar Enterprises Investor Relations.  
             Here you can access investor terms, agreements, reports, and official documents.</p>
        </div>
      </div>

      <!-- Investor Terms -->
      <div id="terms" class="tab">
        <div class="card">
          <h2>Investor Terms</h2>
          <p>These are the standard investor terms applicable under our consultancy model:</p>
          <ul>
            <li>Private contractual arrangement, not public deposit.</li>
            <li>Return cycles may be quarterly, biannually, or annually.</li>
            <li>Agreed payout dates will be specified in individual agreements.</li>
          </ul>
        </div>
      </div>

      <!-- Agreements -->
      <div id="agreements" class="tab">
        <div class="card">
          <h2>Agreements</h2>
          <p>Sample agreements and drafts:</p>
          <ul>
            <li><a href="docs/sample-agreement.pdf" target="_blank">Sample Investor Agreement (PDF)</a></li>
            <li><a href="docs/contract-draft.pdf" target="_blank">Contract Draft (PDF)</a></li>
          </ul>
        </div>
      </div>

      <!-- Reports -->
      <div id="reports" class="tab">
        <div class="card">
          <h2>Reports / Returns Cycle</h2>
          <p>Here you will find updates about returns and performance cycles:</p>
          <ul>
            <li>Quarterly Reports – <a href="docs/q1-report.pdf" target="_blank">Download</a></li>
            <li>Annual Returns – <a href="docs/annual-report.pdf" target="_blank">Download</a></li>
          </ul>
        </div>
      </div>

      <!-- Documents -->
      <div id="documents" class="tab">
        <div class="card">
          <h2>Documents</h2>
          <p>Access official documents and compliance files:</p>
          <ul>
            <li><a href="docs/company-profile.pdf" target="_blank">Company Profile</a></li>
            <li><a href="docs/legal-disclaimer.pdf" target="_blank">Legal Disclaimer</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

<script>
const consentPopup = document.getElementById("consentPopup");
const dashboard = document.getElementById("dashboard");
const logoutBtn = document.getElementById("logoutBtn");

// ✅ On load, check if user already consented
window.onload = function() {
  let email = localStorage.getItem("investorEmail");
  if (email) {
    consentPopup.style.display = "none";
    dashboard.style.display = "block";
  } else {
    consentPopup.style.display = "flex";
  }
};

// ✅ After consent form submit
document.getElementById("consentForm").addEventListener("submit", function(e){
  let email = document.querySelector("input[name=email]").value;
  localStorage.setItem("investorEmail", email);

  setTimeout(() => {
    consentPopup.style.display = "none";
    dashboard.style.display = "block";
    alert("Consent recorded successfully!");
  }, 800);
});

// ✅ Tab switching
const buttons = document.querySelectorAll("nav button");
const tabs = document.querySelectorAll(".tab");

buttons.forEach(btn => {
  btn.addEventListener("click", () => {
    buttons.forEach(b => b.classList.remove("active"));
    tabs.forEach(t => t.classList.remove("active"));

    btn.classList.add("active");
    document.getElementById(btn.dataset.tab).classList.add("active");
  });
});

// ✅ Logout clears consent
logoutBtn.addEventListener("click", () => {
  localStorage.removeItem("investorEmail");
  dashboard.style.display = "none";
  consentPopup.style.display = "flex";
  alert("You have logged out. Please provide consent again to continue.");
});
</script>
</body>
</html>
